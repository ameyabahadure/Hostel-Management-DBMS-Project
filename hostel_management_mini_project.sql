CREATE TABLE STUDENT (
    ROLL_NO VARCHAR2(15) NOT NULL, 
    FIRST_NAME VARCHAR2(25) NOT NULL,
    LAST_NAME VARCHAR2(25),
    ROOM_NO NUMBER,
    MAIL_ID VARCHAR2(50),
    DOB DATE,
    AGE NUMBER,
    CONTACT_NO NUMBER,
    ADD_HOUSE_NO NUMBER,
    ADD_PIN NUMBER NOT NULL,
    ADD_STREET VARCHAR2(15),
    PRIMARY KEY (ROLL_NO)
);

select * from STUDENT;

CREATE TABLE ADDRESS (
    ADD_PIN NUMBER NOT NULL,
    ADD_CITY VARCHAR2(30),
    ADD_STATE VARCHAR2(40),
    ADD_COUNTRY VARCHAR2(20),
    PRIMARY KEY (ADD_PIN)
);

select * from ADDRESS;

--3.HOSTEL
CREATE TABLE HOSTEL (
    H_NAME VARCHAR2(15) NOT NULL,
    CAPACITY NUMBER NOT NULL,
    HOSTEL_NO NUMBER NOT NULL,
    F_SPORTS VARCHAR2(15),
    F_NEWSPAP_NAME VARCHAR2(20),
    F_MESS_id VARCHAR2(5),
    VACANT_ROOMS NUMBER,
    PRIMARY KEY (HOSTEL_NO)
);

select * from HOSTEL;

--4.SKILLED EMPLOYEE
CREATE TABLE S_EMPLOYEE (
    ID_NO VARCHAR2(5) NOT NULL,
    F_NAME VARCHAR2(20) NOT NULL,
    L_NAME CHAR(20),
    SEX VARCHAR2(6),
    AGE NUMBER,
    PH_NO NUMBER,
    POST VARCHAR2(15),
    MAIL_ID VARCHAR2(50),
    SALARY NUMBER,
    PRIMARY KEY (ID_NO)
);

select* from S_EMPLOYEE;

--5.UNSKILLED EMPLOYEE
CREATE TABLE U_EMPLOYEE (
    ID_NO VARCHAR2(5) NOT NULL,
    F_NAME VARCHAR2(20) NOT NULL,
    L_NAME CHAR(20),
    SEX VARCHAR2(6),
    AGE NUMBER,
    PH_NO NUMBER,
    WORK_AS VARCHAR2(15),
    CONTACTOR VARCHAR2(50),
    WAGES NUMBER,
    PRIMARY KEY (ID_NO)
);

SELECT * from U_EMPLOYEE;

--6.STUDENT_IN_OUT
CREATE TABLE STUDENT_IN_OUT (
    RECORD_NO NUMBER,
    ROLL_NO VARCHAR2(15) NOT NULL,
    STUDENT_ARR TIMESTAMP,
    STUDENT_DEP TIMESTAMP,
    PRIMARY KEY (RECORD_NO)
);

SELECT* from STUDENT_IN_OUT;

--7.VISITOR
CREATE TABLE VISITOR (
    RECORD_NO NUMBER,
    F_NAME VARCHAR2(15) NOT NULL,
    L_NAME VARCHAR2(15),
    VISITOR_ARR TIMESTAMP,
    VISITOR_DEP TIMESTAMP,
    VISITOR_CONTACT NUMBER,
    HOSTEL_NO NUMBER,
    PRIMARY KEY (RECORD_NO)
);

SELECT* from VISITOR;

--8.SKILLED EMPLOYEE TRANSACTION
CREATE TABLE S_EMPLOYEE_TRAN (
    ID_NO VARCHAR2(5),
    ATTENDENCE VARCHAR2(2),
    HOSTEL_NO NUMBER,
    WORKING_DAYS NUMBER,
    PRIMARY KEY (ID_NO)
);

SELECT * from S_EMPLOYEE_TRAN;

--9.UNSKILLED EMPLOYEE TRANSACTION
CREATE TABLE U_EMPLOYEE_TRAN (
    ID_NO VARCHAR2(5),
    ATTENDENCE VARCHAR2(2),
    HOSTEL_NO NUMBER,
    WORKING_DAYS NUMBER,
    PRIMARY KEY (ID_NO)
);

SELECT * from U_EMPLOYEE_TRAN;

--10.STUDENT TRANSACTION
CREATE TABLE STUDENT_TRAN (
    ROLL_NO VARCHAR2(15),
    ATTENDENCE VARCHAR2(2),
    HOSTEL_NO NUMBER,
    LIVING_DAYS NUMBER,
    PRIMARY KEY (ROLL_NO)
);

SELECT * from STUDENT_TRAN;

--11.INTERNET
CREATE TABLE INTERNET (
    HOSTEL_NO NUMBER,
    ROOM_NO NUMBER,
    IP_ADDRESS VARCHAR2(16),
    PRIMARY KEY (HOSTEL_NO, ROOM_NO)
);

select * from INTERNET;

--12.MESS_ADMIN
CREATE TABLE MESS_ADMIN (
    MESS_ID VARCHAR2(5),
    CATARER VARCHAR2(15),
    REPRESENTATIVE VARCHAR2(15),
    PRIMARY KEY (MESS_ID)
);

SELECT * from MESS_ADMIN;

--13.MESS_MENU
CREATE TABLE MESS_MENU (
    MESS_ID VARCHAR2(5),
    M_DAY VARCHAR2(10),
    M_TIME VARCHAR2(10),
    MENU VARCHAR2(80),
    PRIMARY KEY (MESS_ID, M_DAY, M_TIME)
);
SELECT * from MESS_ADMIN;

--C.ALTERING AND REFERENCING(FOREIGN KEY):
--1.VISITOR-HOSTEL(HOSTEL NO)
ALTER TABLE VISITOR
ADD CONSTRAINT FK_VISITOR_HOSTEL
FOREIGN KEY (HOSTEL_NO) REFERENCES HOSTEL(HOSTEL_NO)
ON DELETE CASCADE;

--2.STUDENT-ADDRESS(PIN)
ALTER TABLE STUDENT
ADD CONSTRAINT FK_STUDENT_ADDRESS
FOREIGN KEY (ADD_PIN) REFERENCES ADDRESS(ADD_PIN)
ON DELETE CASCADE;

--3.HOSTEL-MESS ADMIN(MESS ID)
ALTER TABLE HOSTEL
ADD CONSTRAINT FK_HOSTEL_MESS
FOREIGN KEY (F_MESS_ID) REFERENCES MESS_ADMIN(MESS_ID)
ON DELETE CASCADE;

--4.MESS ADMIN-MESS MENU(MESS_ID)
ALTER TABLE MESS_MENU
ADD CONSTRAINT FK_MENU_ADMIN
FOREIGN KEY (MESS_ID) REFERENCES MESS_ADMIN(MESS_ID)
ON DELETE CASCADE;

--5.STUDENT- STUDENT_IN_OUT(ROLL NO)
ALTER TABLE STUDENT_IN_OUT
ADD CONSTRAINT FK_SIO_STUDENT
FOREIGN KEY (ROLL_NO) REFERENCES STUDENT(ROLL_NO)
ON DELETE CASCADE;

--6.SKILLED EMPLOYEE TRANSACTION-SKILLED EMPLOYEE-HOSTEL(ID_NO,HOSTEL NO)
ALTER TABLE S_EMPLOYEE_TRAN
ADD CONSTRAINT FK_SETRAN_EMP
FOREIGN KEY (ID_NO) REFERENCES S_EMPLOYEE(ID_NO)
ON DELETE CASCADE;

ALTER TABLE S_EMPLOYEE_TRAN
ADD CONSTRAINT FK_SETRAN_HOSTEL
FOREIGN KEY (HOSTEL_NO) REFERENCES HOSTEL(HOSTEL_NO)
ON DELETE CASCADE;

--7.UNSKILLED EMPLOYEE TRANSACTION-UNSKILLED EMPLOYEE-HOSTEL(ID_NO,HOSTEL NO)
ALTER TABLE U_EMPLOYEE_TRAN
ADD CONSTRAINT FK_UETRAN_EMP
FOREIGN KEY (ID_NO) REFERENCES U_EMPLOYEE(ID_NO)
ON DELETE CASCADE;

ALTER TABLE U_EMPLOYEE_TRAN
ADD CONSTRAINT FK_UETRAN_HOSTEL
FOREIGN KEY (HOSTEL_NO) REFERENCES HOSTEL(HOSTEL_NO)
ON DELETE CASCADE;

--8.INTERNET-HOSTEL(HOSTEL NO) 
ALTER TABLE INTERNET
ADD CONSTRAINT FK_INTERNET_HOSTEL
FOREIGN KEY (HOSTEL_NO) REFERENCES HOSTEL(HOSTEL_NO)
ON DELETE CASCADE;

--9.STUDENT TRANSACTION-STUDENT-HOSTEL(ROLL NO, HOSTEL NO) 
ALTER TABLE STUDENT_TRAN
ADD CONSTRAINT FK_STTRAN_STUDENT
FOREIGN KEY (ROLL_NO) REFERENCES STUDENT(ROLL_NO)
ON DELETE CASCADE;

ALTER TABLE STUDENT_TRAN
ADD CONSTRAINT FK_STTRAN_HOSTEL
FOREIGN KEY (HOSTEL_NO) REFERENCES HOSTEL(HOSTEL_NO)
ON DELETE CASCADE;

--D.INSERSION OF DATA
--1.ADDRESS
INSERT INTO ADDRESS VALUES(423203, 'malegaon', 'maharashtra', 'INDIA');
INSERT INTO ADDRESS VALUES(208002, 'kanpur', 'uttar pradesh', 'INDIA');
INSERT INTO ADDRESS VALUES(226001, 'lucknow', 'uttar pradesh', 'INDIA');
INSERT INTO ADDRESS VALUES(483773, 'katni', 'madhya pradesh', 'INDIA');
INSERT INTO ADDRESS VALUES(824112, 'barun', 'rajasthan', 'INDIA');
INSERT INTO ADDRESS VALUES(452001, 'indore', 'madhya pradesh', 'INDIA');
INSERT INTO ADDRESS VALUES(474011, 'gwalior', 'madhya pradesh', 'INDIA');
INSERT INTO ADDRESS VALUES(261001,'sitapur', 'uttar pradesh', 'INDIA');
INSERT INTO ADDRESS VALUES(273001,'gorakhpur', 'uttar pradesh', 'INDIA');
INSERT INTO ADDRESS VALUES(261207,'sitapur', 'uttar pradesh', 'INDIA');
INSERT INTO ADDRESS VALUES(274001,'deoria', 'uttar pradesh', 'INDIA');
INSERT INTO ADDRESS VALUES(273002, 'gorakhpur', 'uttar pradesh', 'INDIA');
INSERT INTO ADDRESS VALUES(222001,'jaunpur', 'uttar pradesh', 'INDIA');

SELECT * FROM ADDRESS;

--2.STUDENT
INSERT INTO STUDENT VALUES
('IPG2014127','VAISHNAV','CHANDAK',145,'vchandak@gmail.com', TO_DATE('1996-09-28', 'YYYY-MM-DD'), 20, 9754054897, 8, 423203, 'satana road');

INSERT INTO STUDENT VALUES
('IPG2014078','SAURABH','SHARMA',46,'sspgaurav@gmail.com', TO_DATE('1996-07-31', 'YYYY-MM-DD'), 20, 9111186037, 6, 208002, 'old_cnb');

INSERT INTO STUDENT VALUES
('IPG2014022','ARPIT','YADAV',140,'yadavarpit@gmail.com', TO_DATE('1995-09-20', 'YYYY-MM-DD'), 21, 8989711506, 3, 226001, 'gandhi street');

INSERT INTO STUDENT VALUES
('IPG2011110','PANKAJ','SINGH',7,'ppsingh@gmail.com', TO_DATE('1995-07-04', 'YYYY-MM-DD'), 21, 7588961231, 7, 483773, 'imtiya');

INSERT INTO STUDENT VALUES
('IPG2013109','SONU','MEENA',8,'sonu.meena@gmail.com', TO_DATE('1994-09-05', 'YYYY-MM-DD'), 22, 9829074706, 2, 824112, 'indira road');

INSERT INTO STUDENT VALUES
('IPG2012013','ANKIT','JHAROTIYA',19,'ankit126@gmail.com', TO_DATE('1993-02-06', 'YYYY-MM-DD'), 23, 7898422792, 9, 452001, 'raja bagh');

INSERT INTO STUDENT VALUES
('PHD2015116','ANKIT','KUMAR',140,'amitkumar.iiitm@gmail.com', TO_DATE('1990-12-25', 'YYYY-MM-DD'), 26, 9425778033, 25, 474011, 'lashkar');

INSERT INTO STUDENT VALUES
('IPG2014079','SHANTANU','TRIPATHI',47,'shantanu.akt@gmail.com', TO_DATE('1996-07-11', 'YYYY-MM-DD'), 20, 8435564615, 18, 261001, 'civil line');

INSERT INTO STUDENT VALUES
('IPG2014009','ALOK','SINGH',49,'aloks2573@gmail.com', TO_DATE('1996-11-10', 'YYYY-MM-DD'), 20, 8109537085, 78, 273001, 'padrona');

INSERT INTO STUDENT VALUES
('IPG2014049','KRISHNA','YADAV',52,'kkyadaviiitm@gmail.com', TO_DATE('1995-08-04', 'YYYY-MM-DD'), 21, 8719987060, 26, 273001, 'Police colony');

INSERT INTO STUDENT VALUES
('IPG2014116','BUDDHPRIY','MAURY',53,'skm.bpm@gmail.com', TO_DATE('1995-01-15', 'YYYY-MM-DD'), 21, 8462072647, 48, 273001, 'kushinagar');

INSERT INTO STUDENT VALUES
('IPG2014103','VIPIN','KUMAR',43,'vipin11july1995@gmail.com', TO_DATE('1995-07-11', 'YYYY-MM-DD'), 21, 9455235148, 17, 261207, 'anand nagar');

INSERT INTO STUDENT VALUES
('IPG2014102','VIKAS','YADAV',29,'viksyvy@gmail.com', TO_DATE('1996-06-28', 'YYYY-MM-DD'), 20, 8718863298, 26, 274001, 'patel nagar');

INSERT INTO STUDENT VALUES
('IPG2014013','ANANT','UPADHYAY',30,'anant131995@gmail.com', TO_DATE('1995-08-12', 'YYYY-MM-DD'), 21, 8889795330, 40, 273002, 'civil line');

INSERT INTO STUDENT VALUES
('IPG2014014','ANIKET','GUPTA',31,'aniket.fauji@gmail.com', TO_DATE('1995-05-27', 'YYYY-MM-DD'), 21, 7783958558, 20, 222001, 'civil line');

SELECT * FROM STUDENT;

--3.SKILLED EMPLOYEE
INSERT INTO S_employee VALUES('A-1','GIRRAJ','SHIKARWAR','MALE',46,9200119243,'Supervisor','giriraj60@gmail.com',15500);
INSERT INTO S_employee VALUES('A-2',	'DINESH',	'SHARMA',	'MALE',60,9977217989,	'Supervisor','sharma.dinesh@gmail.com',23200);
INSERT INTO S_employee VALUES('A-3',	'HEMANT', 	'BHARGAVA',	'MALE',25,9806671701,	'Supervisor','bhargavahem@gmail.com',13200);
INSERT INTO S_employee VALUES('A-7',	'SANJAY',	'SHARMA',	'MALE',28,9993282615,	'Supervisor','sanjay.sharma88@gmail.com',14000);

SELECT * from S_EMPLOYEE;

--4.UNSKILLED EMPLOYEE
INSERT INTO U_EMPLOYEE VALUES('A-5',  'ASHOK',      'GUPTA',     'MALE', 31, 9039157516, 'H_Security', 'JUPITAR',   8000);
INSERT INTO U_EMPLOYEE VALUES('A-6',  'BABLU',      'SHARMA',    'MALE', 36, 9039231041, 'Carpenter',  'TEMPORARY', 4000);
INSERT INTO U_EMPLOYEE VALUES('A-8',  'ANAND',      'GUPTA',     'MALE', 34, 8564892456, 'Electrician','TEMPORARY', 4000);
INSERT INTO U_EMPLOYEE VALUES('A-9',  'RAM',        'AVATAR',    'MALE', 45, 9437652897, 'Gardener',   'TEMPORARY', 3500);
INSERT INTO U_EMPLOYEE VALUES('A-10', 'OM',         'DWIVEDI',   'MALE', 32, 9423175503, 'Electrician','TEMPORARY', 3500);
INSERT INTO U_EMPLOYEE VALUES('A-11', 'DHARMENDRA', 'SHARMA',    'MALE', 37, 8989711546, 'H_Security', 'JUPITAR',   8000);
INSERT INTO U_EMPLOYEE VALUES('A-12', 'RAJENDRA',   'PAL',       'MALE', 32, 7568925468, 'Plumber',    'TEMPORARY', 3500);
INSERT INTO U_EMPLOYEE VALUES('A-13', 'VISHAMBHAR', 'PAL',       'MALE', 46, 7049568972, 'Plumber',    'TEMPORARY', 3500);
INSERT INTO U_EMPLOYEE VALUES('A-14', 'DHARMENDRA', 'TRIPATHI',  'MALE', 43, 8456713984, 'Carpenter',  'TEMPORARY', 3500);
INSERT INTO U_EMPLOYEE VALUES('A-15', 'SURESH',     'SONI',      'MALE', 34, 9422756897, 'Sweeper',    'TEMPORARY', 3400);

SELECT * from U_EMPLOYEE;

--5.MESS ADMIN
INSERT INTO MESS_ADMIN VALUES('M-1','JAIN','AMANDEEP');
INSERT INTO MESS_ADMIN VALUES('M-2','SONPAL','PATIDAR');
INSERT INTO MESS_ADMIN VALUES('M-3','GALAV','ADITYA');

SELECT * from MESS_ADMIN;

--6.HOSTEL
INSERT INTO HOSTEL VALUES('ARAVALI',313,1,'TT','BHASKAR','M-1',20);
INSERT INTO HOSTEL VALUES('NILGIRI',310,2,'SNOOKER','BHASKAR','M-2',20);
INSERT INTO HOSTEL VALUES('SHIVALIK',250,3,'TT','TIMES OF INDIA','M-3',24);

SELECT * from HOSTEL;

--7.UNSKILLED EMPLOYEE TRANSACTION
INSERT INTO U_EMPLOYEE_TRAN VALUES('A-5','P',2,26);
INSERT INTO U_EMPLOYEE_TRAN VALUES('A-6','P',3,25);
INSERT INTO U_EMPLOYEE_TRAN VALUES('A-8','P',2,20);
INSERT INTO U_EMPLOYEE_TRAN VALUES('A-9','P',2,24);

SELECT * from U_EMPLOYEE_TRAN;

--8.INTERNET
INSERT INTO INTERNET VALUES(1,20,'192.168.64.241');
INSERT INTO INTERNET VALUES(2,20,'192.168.64.21');
INSERT INTO INTERNET VALUES(3,320,'192.168.64.22');
INSERT INTO INTERNET VALUES(1,210,'192.168.64.201');
INSERT INTO INTERNET VALUES(2,120,'192.168.64.107');
INSERT INTO INTERNET VALUES(3,204,'192.168.64.121');

SELECT * from INTERNET;

--9.STUDENT TRANSACTION
INSERT INTO STUDENT_TRAN VALUES('IPG2011110','P',2,26);
INSERT INTO STUDENT_TRAN VALUES('IPG2014078','P',3,25);
INSERT INTO STUDENT_TRAN VALUES('IPG2014009','P',2,20);
INSERT INTO STUDENT_TRAN VALUES('IPG2014013','P',2,24);
INSERT INTO STUDENT_TRAN VALUES('IPG2011110','P',2,26);
INSERT INTO STUDENT_TRAN VALUES('IPG2014078','P',3,25);
INSERT INTO STUDENT_TRAN VALUES('IPG2014009','P',2,20);
INSERT INTO STUDENT_TRAN VALUES('IPG2014014','P',2,24);

SELECT * from STUDENT_TRAN;

-- 10.STuDENT_IN_OUT
INSERT INTO STUDENT_IN_OUT (RECORD_NO, ROLL_NO, STUDENT_ARR, STUDENT_DEP) 
VALUES (1, 'IPG2013109', TO_TIMESTAMP('2016-04-12 23:02:46', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2016-04-13 23:03:02', 'YYYY-MM-DD HH24:MI:SS'));

INSERT INTO STUDENT_IN_OUT (RECORD_NO, ROLL_NO, STUDENT_ARR, STUDENT_DEP) 
VALUES (2, 'IPG2014014', TO_TIMESTAMP('2016-04-21 21:03:54', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2016-04-22 20:04:07', 'YYYY-MM-DD HH24:MI:SS'));

INSERT INTO STUDENT_IN_OUT (RECORD_NO, ROLL_NO, STUDENT_ARR, STUDENT_DEP) 
VALUES (3, 'IPG2014022', TO_TIMESTAMP('2016-04-22 23:04:36', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2016-04-22 04:05:06', 'YYYY-MM-DD HH24:MI:SS'));

SELECT* from STUDENT_IN_OUT;

--11. VISITOR
INSERT INTO VISITOR (RECORD_NO, F_NAME, L_NAME, VISITOR_ARR, VISITOR_DEP, VISITOR_CONTACT, HOSTEL_NO)
VALUES (1, 'ARUN', 'TRIPATHI', TO_TIMESTAMP('2016-04-04 23:08:19', 'YYYY-MM-DD HH24:MI:SS'),
        TO_TIMESTAMP('2016-04-04 23:08:24', 'YYYY-MM-DD HH24:MI:SS'), '9839943548', 2);

INSERT INTO VISITOR (RECORD_NO, F_NAME, L_NAME, VISITOR_ARR, VISITOR_DEP, VISITOR_CONTACT, HOSTEL_NO)
VALUES (2, 'SP', 'SHARMA', TO_TIMESTAMP('2016-04-13 23:09:06', 'YYYY-MM-DD HH24:MI:SS'),
        TO_TIMESTAMP('2016-04-14 23:09:13', 'YYYY-MM-DD HH24:MI:SS'), '9792177883', 3);

SELECT * from VISITOR;

-- 12 – MESS_MENU Inserts and Updates
INSERT INTO MESS_MENU (MESS_ID) VALUES ('M-1');
INSERT INTO MESS_MENU (MESS_ID) VALUES ('M-2');
INSERT INTO MESS_MENU (MESS_ID) VALUES ('M-3');

SELECT * from MESS_MENU;

-- Set M_DAY to MON
UPDATE MESS_MENU SET M_DAY = 'MON' WHERE MESS_ID = 'M-1' AND M_DAY IS NULL AND M_TIME IS NULL;
UPDATE MESS_MENU SET M_DAY = 'MON' WHERE MESS_ID = 'M-2' AND M_DAY IS NULL AND M_TIME IS NULL;
UPDATE MESS_MENU SET M_DAY = 'MON' WHERE MESS_ID = 'M-3' AND M_DAY IS NULL AND M_TIME IS NULL;

-- Set M_TIME to BREAKFAST
UPDATE MESS_MENU SET M_TIME = 'BREAKFAST' WHERE MESS_ID = 'M-1' AND M_DAY = 'MON' AND M_TIME IS NULL;
UPDATE MESS_MENU SET M_TIME = 'BREAKFAST' WHERE MESS_ID = 'M-2' AND M_DAY = 'MON' AND M_TIME IS NULL;
UPDATE MESS_MENU SET M_TIME = 'BREAKFAST' WHERE MESS_ID = 'M-3' AND M_DAY = 'MON' AND M_TIME IS NULL;

-- Set MENU values
UPDATE MESS_MENU SET MENU = 'IDLI, CHATNI' WHERE MESS_ID = 'M-1' AND M_DAY = 'MON' AND M_TIME = 'BREAKFAST';
UPDATE MESS_MENU SET MENU = 'IDLI, CHATNI' WHERE MESS_ID = 'M-2' AND M_DAY = 'MON' AND M_TIME = 'BREAKFAST';
UPDATE MESS_MENU SET MENU = 'IDLI, SAMBHAR' WHERE MESS_ID = 'M-3' AND M_DAY = 'MON' AND M_TIME = 'BREAKFAST';

-- Other days and updates
UPDATE MESS_MENU SET M_DAY = 'TUES' WHERE MESS_ID = 'M-3' AND M_DAY IS NULL AND M_TIME IS NULL;
UPDATE MESS_MENU SET M_DAY = 'WED', M_TIME = 'BREAKFAST' WHERE MESS_ID = 'M-3' AND M_DAY IS NULL AND M_TIME IS NULL;
UPDATE MESS_MENU SET M_TIME = 'BREAKFAST', MENU = 'POHA' WHERE MESS_ID = 'M-3' AND M_DAY = 'TUES' AND M_TIME IS NULL;
UPDATE MESS_MENU SET MENU = 'PAV- BHAJI' WHERE MESS_ID = 'M-3' AND M_DAY = 'WED' AND M_TIME = 'BREAKFAST';

-- Direct inserts for other days
INSERT INTO MESS_MENU (MESS_ID, M_DAY, M_TIME, MENU) VALUES ('M-3', 'THURS', 'BREAKFAST', 'PARATHA AALOO');
INSERT INTO MESS_MENU (MESS_ID, M_DAY, M_TIME, MENU) VALUES ('M-3', 'SUN', 'BREAKFAST', 'AALO PARATHA');

SELECT * from MESS_MENU;

-- 13. SKILLED EMPLOYEE TRANSACTION
INSERT INTO S_EMPLOYEE_TRAN VALUES('A-1','P',1,24);
INSERT INTO S_EMPLOYEE_TRAN VALUES('A-2','P',2,24);
INSERT INTO S_EMPLOYEE_TRAN VALUES('A-3','P',3,20);


SELECT * from S_EMPLOYEE_TRAN;

--QUERIES TO MANIPULATE DATA:-
--1.To select student info from room no-
   SELECT * FROM STUDENT WHERE ROOM_NO=145 ;

--2.To see the no. of rooms vacant-  
 SELECT VACANT_ROOMS FROM HOSTEL WHERE HOSTEL_NO =1;

--3.The info of employee of particular department-
SELECT * FROM U_EMPLOYEE 
WHERE WORK_AS = 'Carpenter';

--4.To get total info of HOSTEL-
SELECT * FROM HOSTEL WHERE HOSTEL_no=1 ; 

--5.To get info about supervisior of a HOSTEL
--SELECT SALARY 
SELECT *FROM S_EMPLOYEE 
WHERE POST = 'Supervisor';

--6.To get salary info of a particular skilled employee
SELECT SALARY 
FROM S_EMPLOYEE 
WHERE POST = 'Supervisor';

--7.To check if an employee is present on a particular day-
SELECT ATTENDENCE 
FROM S_EMPLOYEE_TRAN 
WHERE ID_NO = 'A-1' AND WORKING_DAYS = 24;

--8.To calculate the no. of working days in a month of an employee-
--SELECT* FROM U_EMPLOYEE;      
SELECT WORKING_DAYS FROM U_EMPLOYEE_TRAN WHERE ID_NO='A-6';

--9.To see the MESS MENU of a particular HOSTEL
SELECT F_MESS_ID FROM HOSTEL;
SELECT MENU FROM MESS_MENU WHERE MESS_ID = 'M-3';

--10.To get mess admin info of a particular HOSTEL
SELECT F_MESS_ID FROM HOSTEL;
SELECT CATARER, REPRESENTATIVE FROM MESS_ADMIN WHERE MESS_ID = 'M-2';

--11.To get info of visitors to a particular HOSTEL-
SELECT *FROM VISITOR WHERE HOSTEL_no=2 ;


--12.To get the arrival and departure time of a student from a HOSTEL-
SELECT STUDENT_ARR,STUDENT_DEP FROM STUDENT_IN_OUT WHERE ROLL_NO='IPG2013109';

--13.To check the guard present at a particular HOSTEL
--SELECT * from U_EMPLOYEE;
SELECT ID_NO, F_NAME, L_NAME, PH_NO 
FROM U_EMPLOYEE 
WHERE WORK_AS = 'H_Security';

--14. To check total capacity of a particular HOSTEL-
SELECT CAPACITY,H_NAME FROM HOSTEL WHERE HOSTEL_no=2;

--15.To check if a student is present in HOSTEL or on leave on a particular-
--SELECT * from STUDENT_TRAN;
SELECT ATTENDENCE,HOSTEL_NO FROM STUDENT_TRAN WHERE roll_no='IPG2014078';

--16.CHANGE THE ATTRIBUTE NAME;
ALTER TABLE ADDRESS RENAME COLUMN ADD_CITY TO CITY;

